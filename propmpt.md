我希望编写一个代码生成的命令行程序，我希望命令行读取当前用户所在目录作为工作目录，查找并读取程序配置文件，当配置文件不存在时直接提示并退出。程序配置文件应该包含以下内容：模板文件列表，模板配置文件列表。请帮助我先设计实现的思路，确认可以达到目标我们才开始执行。因为我还希望每个模板文件需要哪些模板配置文件作为依赖也是直接体现在程序配置文件中的，如果解析模板时应用到的模板配置文件的配置项足够模板文件使用就完成生成过程，如果不足以解析模板所需的变量设置就直接报错误，停止继续。报告的错误应该尽可能包含是哪个模板文件的哪一行，那个配置变量缺少的详细信息。另外如果可以支持子模板文件就更好了。请帮助我设计实现这个程序的思路。

我希望程序的入口目录设置在 /cmd/v1/main.go 中，希望该程序将来允许 import 供其他用户和程序引入使用。
# Go template 内置 FuncMap 列表

> 基于 Go 1.22 版本验证，适用于 `text/template` 和 `html/template`。

Go 标准库 `text/template` 提供了一系列内置模板函数（FuncMap），以下是完整列表及简要说明：

---

## 一、逻辑函数
1. **`and`**  
   返回第一个「空值」或最后一个参数。若所有参数非空，返回最后一个参数的值。  
   *示例：`{{ and .A .B }}` 相当于 `if .A then .B else .A`*

2. **`or`**  
   返回第一个「非空参数」或最后一个参数。  
   *示例：`{{ or .A .B }}` 相当于 `if .A then .A else .B`*

3. **`not`**  
   返回参数的布尔取反值。  
   *示例：`{{ not .Flag }}`*

---

## 二、比较函数
4. **`eq`**  
   检查两个或多个参数是否相等（支持基本类型）。  
   *示例：`{{ eq .A 10 }}` 或 `{{ eq .A "foo" "bar" }}`（检查是否等于任一值）*

5. **`ne`**  
   检查两个参数是否不相等。  
   *示例：`{{ ne .A .B }}`*

6. **`lt`**  
   检查第一个参数是否小于第二个（支持数值/字符串）。  
   *示例：`{{ lt .Age 18 }}`*

7. **`le`**  
   检查第一个参数是否小于或等于第二个。  
   *示例：`{{ le .Score 60 }}`*

8. **`gt`**  
   检查第一个参数是否大于第二个。  
   *示例：`{{ gt .Value 100 }}`*

9. **`ge`**  
   检查第一个参数是否大于或等于第二个。  
   *示例：`{{ ge .Count 1 }}`*

---

## 三、集合操作
10. **`index`**  
    获取数组/切片元素或 Map 的键值。  
    *示例：`{{ index .List 0 }}` 或 `{{ index .Dict "key" }}`*

11. **`slice`**  
    截取切片（参数格式：`slice list [start [end]]`）。  
    *示例：`{{ slice .Items 1 3 }}` 等效于 `items[1:3]`*

12. **`len`**  
    返回集合或字符串的长度。  
    *示例：`{{ len .Names }}`*

---

## 四、函数调用
13. **`call`**  
    动态调用函数（第一个参数为函数对象，后续为参数）。  
    *示例：`{{ call .FormatFunc "arg" }}`*

---

## 五、格式化输出
14. **`print`**  
    将参数转换为字符串并拼接。  
    *示例：`{{ print "Hello," .Name }}`*

15. **`printf`**  
    格式化字符串（语法同 `fmt.Sprintf`）。  
    *示例：`{{ printf "%s-%d" .ID .Version }}`*

16. **`println`**  
    类似 `print`，但参数间添加空格，末尾换行。  
    *示例：`{{ println "Error:" .Msg }}`*

---

## 六、转义处理
17. **`html`**  
    将内容转义为 HTML 安全字符串（防止 XSS）。  
    *示例：`{{ .Content | html }}`*

18. **`js`**  
    将字符串转义为 JavaScript 字面量。  
    *示例：`{{ .VarName | js }}`*

19. **`urlquery`**  
    转义字符串以安全嵌入 URL 查询参数。  
    *示例：`{{ .Query | urlquery }}`*

---

## 使用说明
- 所有函数名**大小写敏感**。
- 比较函数需确保参数类型匹配。
- `html`/`js`/`urlquery` 在 HTML 模板中常用于安全转义。
- 自定义函数可通过 `.Funcs()` 方法扩展，但会覆盖同名内置函数。
